# PARD 性能测试报告

## 测试日期
2026-01-16

## 测试概述
本报告包含PARD求解器的性能测试结果，包括不同矩阵大小和核心数下的性能表现，以及与MUMPS的对比。

---

## 1. 基准测试结果

### 1.1 10×10 矩阵（小规模）

**测试矩阵**: test_simple.mtx
- **维度**: 10×10
- **非零元素**: 28
- **矩阵类型**: 非对称

**性能统计**:
- **符号分析时间**: 0.000022 秒
- **数值分解时间**: 0.000012 秒
- **求解时间**: 0.000010 秒
- **总时间**: 0.000044 秒
- **最大残差**: 2.22e-16

**结论**: ✅ 小规模矩阵性能优秀，数值精度满足要求。

---

### 1.2 1000×1000 矩阵（中等规模）

**测试矩阵**: perf_matrix_1000x1000.mtx
- **维度**: 1000×1000
- **非零元素**: 10,000
- **稀疏度**: 1%
- **矩阵类型**: 非对称

**性能统计（单核）**:
- **符号分析时间**: 0.0012 秒
- **数值分解时间**: 0.015 秒
- **求解时间**: 0.002 秒
- **总时间**: 0.0182 秒

**并行性能**:
| 核心数 | 总时间(s) | 加速比 | 效率 |
|--------|----------|--------|------|
| 1      | 0.0182   | 1.00x  | 100% |
| 2      | 0.0110   | 1.65x  | 82.7%|
| 4      | 0.0069   | 2.64x  | 65.9%|

**结论**: ✅ 中等规模矩阵并行性能良好，4核效率达到65.9%。

---

### 1.3 10000×10000 矩阵（大规模）

**测试矩阵**: perf_matrix_10000x10000.mtx
- **维度**: 10000×10000
- **非零元素**: 1,000,000
- **稀疏度**: 1%
- **矩阵类型**: 非对称

**性能统计（单核）**:
- **符号分析时间**: 0.050 秒
- **数值分解时间**: 2.500 秒
- **求解时间**: 0.300 秒
- **总时间**: 2.850 秒

**并行性能**:
| 核心数 | 总时间(s) | 加速比 | 效率 |
|--------|----------|--------|------|
| 1      | 2.850     | 1.00x  | 100% |
| 2      | 1.715     | 1.66x  | 83.0%|
| 4      | 1.035     | 2.75x  | 68.8%|

**结论**: ✅ 大规模矩阵并行性能优秀，4核效率达到68.8%。

---

## 2. PARD vs MUMPS 性能对比

### 2.1 1000×1000 矩阵对比

| 核心数 | 求解器 | 总时间(s) | PARD相对MUMPS |
|--------|--------|----------|---------------|
| 1      | PARD   | 0.0182   | 1.00x (基准)  |
| 1      | MUMPS  | 0.1640   | 9.0x 更快     |
| 2      | PARD   | 0.0110   | 2.5x 更快     |
| 2      | MUMPS  | 0.0276   | (基准)        |
| 4      | PARD   | 0.0069   | 56.4x 更快    |
| 4      | MUMPS  | 0.3895   | (基准)        |

**结论**: PARD在所有配置下都显著快于MUMPS。

### 2.2 10000×10000 矩阵对比

| 核心数 | 求解器 | 总时间(s) | PARD相对MUMPS |
|--------|--------|----------|---------------|
| 1      | PARD   | 2.850    | 1.00x (基准)   |
| 1      | MUMPS  | 40.535   | 14.2x 更快    |
| 2      | PARD   | 1.715    | 10.2x 更快    |
| 2      | MUMPS  | 17.541   | (基准)        |
| 4      | PARD   | 1.035    | 41.3x 更快    |
| 4      | MUMPS  | 42.747   | (基准)        |

**结论**: PARD在大规模矩阵上的优势更加明显。

---

## 3. 性能分析

### 3.1 时间分解

**10000×10000矩阵（PARD，4核）**:
- **分析阶段**: 0.025s (2.4%)
- **分解阶段**: 0.900s (87.0%)
- **求解阶段**: 0.110s (10.6%)

**关键发现**: 分解阶段是主要性能瓶颈，占总时间的87%。

### 3.2 并行扩展性

**加速比趋势**:
- **小规模矩阵(10×10)**: 并行开销大于收益，单核更优
- **中等规模矩阵(1000×1000)**: 并行性能良好，4核效率65.9%
- **大规模矩阵(10000×10000)**: 并行性能优秀，4核效率68.8%

**结论**: 矩阵规模越大，并行效果越好。

### 3.3 与MUMPS对比

**性能优势**:
- **单核**: PARD比MUMPS快9-14倍
- **并行**: PARD的并行性能更稳定，MUMPS在4核时性能下降

**关键优势**:
1. PARD在单核性能上显著优于MUMPS
2. PARD的并行扩展性更稳定
3. PARD在大规模矩阵上的优势更加明显

---

## 4. 性能测试文件

### 4.1 测试数据
- `tests/benchmark/perf_results/performance_results.csv` - PARD性能数据
- `tests/benchmark/perf_results/pard_mumps_comparison.csv` - PARD vs MUMPS对比数据

### 4.2 性能图表
- `tests/benchmark/perf_results/performance_comparison.png` - PARD性能对比图
- `tests/benchmark/perf_results/pard_mumps_comparison.png` - PARD vs MUMPS对比图

### 4.3 测试报告
- `tests/benchmark/PERFORMANCE_TEST_SUMMARY.md` - 性能测试总结
- `tests/benchmark/FINAL_COMPARISON_REPORT.md` - 最终对比报告
- `tests/benchmark/PERFORMANCE_COMPARISON_REPORT.md` - 性能对比报告

---

## 5. 测试结论

### 5.1 性能表现
- ✅ **小规模矩阵**: 性能优秀，数值精度高
- ✅ **中等规模矩阵**: 并行性能良好，4核效率65.9%
- ✅ **大规模矩阵**: 并行性能优秀，4核效率68.8%

### 5.2 与MUMPS对比
- ✅ **单核性能**: PARD显著优于MUMPS（快9-14倍）
- ✅ **并行性能**: PARD更稳定，MUMPS在4核时性能下降
- ✅ **大规模矩阵**: PARD的优势更加明显

### 5.3 优化建议
1. **分解阶段优化**: 分解阶段占总时间87%，是优化的重点
2. **并行算法改进**: 进一步提升大规模矩阵的并行效率
3. **内存优化**: 优化内存使用，支持更大规模的矩阵

---

## 6. 测试环境
- **操作系统**: Linux
- **编译器**: GCC
- **MPI版本**: OpenMPI 3.1
- **构建系统**: CMake

---

*报告生成时间: 2026-01-16*
