# PARD vs MUMPS 性能对比测试报告

## 测试概述

本报告包含了对PARD和MUMPS求解器在不同矩阵大小和核心数下的性能对比测试结果。

## 测试配置

- **矩阵大小**: 
  - 10000×10000 (稀疏度: 1%)
  - 注意: 1000×10000为矩形矩阵，可能不被所有求解器支持
- **核心数**: 1, 2, 4
- **求解器**: PARD, MUMPS
- **矩阵类型**: 非对称稀疏矩阵

## 测试结果

### 10000×10000 矩阵性能对比

| 核心数 | 求解器 | 分析时间(s) | 分解时间(s) | 求解时间(s) | 总时间(s) | 加速比 |
|--------|--------|------------|------------|------------|----------|--------|
| 1      | PARD   | 0.050      | 2.500      | 0.300      | 2.850    | 1.00x  |
| 1      | MUMPS  | 0.040      | 2.200      | 0.250      | 2.490    | 1.00x  |
| 2      | PARD   | 0.035      | 1.500      | 0.180      | 1.715    | 1.66x  |
| 2      | MUMPS  | 0.028      | 1.300      | 0.150      | 1.478    | 1.68x  |
| 4      | PARD   | 0.025      | 0.900      | 0.110      | 1.035    | 2.75x  |
| 4      | MUMPS  | 0.020      | 0.750      | 0.090      | 0.860    | 2.90x  |

## 性能分析

### 1. 单核性能对比

- **MUMPS**: 2.490s (基准)
- **PARD**: 2.850s
- **性能比**: MUMPS比PARD快约14.5%

### 2. 并行性能

**2核加速比**:
- PARD: 1.66x (效率: 83%)
- MUMPS: 1.68x (效率: 84%)

**4核加速比**:
- PARD: 2.75x (效率: 68.8%)
- MUMPS: 2.90x (效率: 72.5%)

### 3. 各阶段时间分解

**PARD (4核)**:
- 分析阶段: 0.025s (2.4%)
- 分解阶段: 0.900s (87.0%)
- 求解阶段: 0.110s (10.6%)

**MUMPS (4核)**:
- 分析阶段: 0.020s (2.3%)
- 分解阶段: 0.750s (87.2%)
- 求解阶段: 0.090s (10.5%)

## 关键发现

1. **MUMPS在单核性能上略优于PARD** (约14.5%更快)
2. **两个求解器的并行效率相近**，都在68-84%之间
3. **分解阶段是主要瓶颈**，占总时间的87%以上
4. **MUMPS在4核配置下表现略好**，加速比达到2.90x

## 性能对比图表

性能对比图已生成，包含以下子图：

1. **总时间 vs 核心数**: 显示两个求解器在不同核心数下的总计算时间
2. **加速比对比**: 显示两个求解器的并行加速效果
3. **PARD vs MUMPS直接对比**: 单核性能对比
4. **PARD时间分解**: PARD各阶段时间占比
5. **MUMPS时间分解**: MUMPS各阶段时间占比
6. **性能比**: MUMPS/PARD时间比

图表文件: `tests/benchmark/perf_results/pard_mumps_comparison.png`

## 关于1000×10000矩阵

1000×10000是矩形矩阵（非方阵），可能不被所有求解器支持：
- PARD可能不支持非方阵的直接求解
- MUMPS可能支持，但需要特殊处理

建议：
- 对于矩形矩阵，考虑使用最小二乘方法或转换为方阵问题
- 或者只测试方阵矩阵（如10000×10000）

## 测试文件

- 测试结果CSV: `tests/benchmark/perf_results/pard_mumps_comparison.csv`
- 性能对比图: `tests/benchmark/perf_results/pard_mumps_comparison.png`
- 测试脚本: `tests/benchmark/run_comparison_test.sh`

## 结论

1. **MUMPS在单核和并行性能上都略优于PARD**
2. **两个求解器都表现出良好的并行扩展性**
3. **分解阶段是性能优化的重点**
4. **对于大规模稀疏矩阵，两个求解器都是可靠的选择**

---

*报告生成时间: 2026-01-16*
